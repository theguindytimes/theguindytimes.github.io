/*! modulejs 0.3.0 - //larsjung.de/modulejs/ - MIT License */
!function(n,r){"use strict";var t=Object.prototype,e=Array.prototype.forEach,i=function(n){return function(r){return t.toString.call(r)==="[object "+n+"]"}},u=i("String"),o=i("Function"),c=Array.isArray||i("Array"),f=function(n){return n===new Object(n)},a=function(n,r){return t.hasOwnProperty.call(n,r)},s=function(n,r,t){if(e&&n.forEach===e)n.forEach(r,t);else if(n.length===+n.length)for(var i=0,u=n.length;u>i;i+=1)r.call(t,n[i],i,n);else for(var o in n)a(n,o)&&r.call(t,n[o],o,n)},d=function(n,r){for(var t=0,e=n.length;e>t;t+=1)if(n[t]===r)return!0;return!1},l=function(n){var r={},t=[];return s(n,function(n){a(r,n)||(t.push(n),r[n]=1)}),t},p=function(n,t,e){if(n)throw{code:t,msg:e,toString:function(){return r+" error "+t+": "+e}}},h={},v={},g=function(r,t,e){if(p(!u(r),31,'id must be a string "'+r+'"'),!t&&a(v,r))return v[r];var i=h[r];p(!i,32,'id not defined "'+r+'"'),e=(e||[]).slice(0),e.push(r);var o=[];if(s(i.deps,function(n){p(d(e,n),33,"circular dependencies: "+e+" & "+n),t?(o=o.concat(g(n,t,e)),o.push(n)):o.push(g(n,t,e))}),t)return l(o);var c=i.fn.apply(n,o);return v[r]=c,c},y=function(n,r,t){void 0===t&&(t=r,r=[]),p(!u(n),11,'id must be a string "'+n+'"'),p(h[n],12,'id already defined "'+n+'"'),p(!c(r),13,'dependencies for "'+n+'" must be an array "'+r+'"'),p(!f(t)&&!o(t),14,'arg for "'+n+'" must be object or function "'+t+'"'),h[n]={id:n,deps:r,fn:o(t)?t:function(){return t}}},b=function(n){return g(n)},j=function(){var n={};return s(h,function(r,t){n[t]={deps:r.deps.slice(0),reqs:g(t,!0),init:a(v,t)}}),s(h,function(r,t){var e=[];s(h,function(r,i){d(n[i].reqs,t)&&e.push(i)}),n[t].reqd=e}),n},m=function(n){var r="\n";return s(j(),function(t,e){var i=n?t.reqd:t.reqs;r+=(t.init?"* ":"  ")+e+" -> [ "+i.join(", ")+" ]\n"}),r};n[r]={define:y,require:b,state:j,log:m}}(this,"modulejs");